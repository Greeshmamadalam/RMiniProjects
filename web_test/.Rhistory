require(httr)
require(jsonlite)
require(dplyr)
apiUUID <- 2099
tAnalyticsPost <- POST(paste('http://analytics-dev-proxy.cluster.kountable.com:6100/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
View(tbl.helpwords)
View(tbl.keywords)
View(tbl.links)
View(tbl.links)
View(tbl.keywords)
View(tbl.helpwords)
require(httr)
require(jsonlite)
require(dplyr)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
View(tbl.links)
View(tbl.keywords)
View(tbl.helpwords)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tAnalyticsPost$content
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 504
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
apiUUID <- 231
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 10730
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2728
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 575
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2737
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 171
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2316
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 580
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 10133
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 10578
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2220
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2824
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2217
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 79
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 2224
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
apiUUID <- 666
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
View(tbl.links)
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 10877
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 10877
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 10877
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
tContent
tContent$results$links
library(httr)
library(jsonlite)
library(dplyr)
apiUUID <- 10877
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
View(tbl.helpwords)
View(tbl.keywords)
View(tbl.links)
tbl.links$links[1]
tContent <- fromJSON(rawToChar( tbl.links$links[1]))
tContent <- fromJSON(rawToChar(tbl.links$links[1]))
tContent <- fromJSON(tbl.links$links[1])
list(tbl.links$links[1])
ls <- list(tbl.links$links[1])
tContent <- fromJSON(rawToChar(charToraw(tbl.links$links[1])))
tContent <- fromJSON(rawToChar(charToRaw(tbl.links$links[1])))
ls <- tbl.links$links[1]
ls
ls[[1]]
ls <- tbl.links$links[[1]]
ls <- tbl.links$links[[1]]$url
ls
urls <- bind_rows(lapply(tbl.links, scrape.urls))
scrape.urls <- function(urljunk){
return(urljunk$url)
}
scrape.urls <- function(urljunk){
return(urljunk$url)
}
urls <- bind_rows(lapply(tbl.links, scrape.urls))
scrape.urls <- function(urljunk){
urljunk
}
urls <- bind_rows(lapply(tbl.links, scrape.urls))
View(urls)
View(urls)
scrape.urls <- function(urljunk){
print(urljunk)
}
urls <- bind_rows(lapply(tbl.links, scrape.urls))
scrape.urls <- function(urljunk){
return(urljunk$url)
}
urls <- bind_rows(lapply(tbl.links$links, scrape.urls))
scrape.urls <- function(urljunk){
tbl.urls <- data.frame(urls=urljunk$url)
return(tbl.urls)
}
urls <- bind_rows(lapply(tbl.links$links, scrape.urls))
tbl.urls <- data.frame(urls=urljunk$url)
return(urljunk$url)
scrape.urls <- function(urljunk){
# tbl.urls <- data.frame(urls=urljunk$url)
return(urljunk$url)
}
urls <- lapply(tbl.links$links, scrape.urls)
urls
scrape.urls <- function(urljunk){
# tbl.urls <- data.frame(urls=urljunk$url)
return(urljunk$url)
}
urls <- lapply(tbl.links$links, scrape.urls)
urls <- unlist(urls)
urls
View(tbl.links)
tbl.webPresenceResults <- data_frame(urls = urls)
View(tbl.webPresenceResults)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(resultsUrls = paste0(tags$a(urls, href=resultsUrls, target="_blank")))
require(dplyr)
require(shiny)
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(resultsUrls = paste0(tags$a(urls, href=resultsUrls, target="_blank")))
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(resultsUrls = paste0(tags$a(urls, href=urls, target="_blank")))
View(tbl.webPresenceResults)
tbl.webPresenceResults <- data_frame(urls = urls)
View(tbl.webPresenceResults)
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
View(tbl.webPresenceResults)
get.createresultfile <- function(urls, uuid = 504){
require(dplyr)
require(shiny)
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
return(tbl.webPresenceResults)
}
get.createresultfile <- function(urls, uuid = 504){
require(dplyr)
require(shiny)
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
return(tbl.webPresenceResults)
}
get.WebPresence <- function(uuid){
require(dplyr)
require(shiny)
require(httr)
require(jsonlite)
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',apiUUID , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
urls <- lapply(tbl.links$links, scrape.urls)
urls <- unlist(urls)
return(urls)
}
scrape.urls <- function(urljunk){
# tbl.urls <- data.frame(urls=urljunk$url)
return(urljunk$url)
}
uuid <- 10877
require(dplyr)
require(shiny)
require(httr)
require(jsonlite)
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',uuid , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.keywords <- data_frame(keywords=tContent$keywords)
tbl.helpwords <- data_frame(helpwords=tContent$helpwords)
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
urls <- lapply(tbl.links$links, scrape.urls)
urls <- unlist(urls)
urls
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
View(tbl.webPresenceResults)
source('~/Rproject/web_test/webPresence.R')
source('~/Rproject/web_test/webPresence.R')
source('kApiKYCCallsSource.R')
get.createresultfile <- function(ls.urls, uuid = 504){
require(dplyr)
require(shiny)
urls <- unlist(urls)
tbl.webPresenceResults <- data_frame(urls = urls)
tbl.webPresenceResults <- tbl.webPresenceResults %>% rowwise() %>%
mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
return(tbl.webPresenceResults)
}
# uuid <- 10877
#
#test <- get.WebPresence(uuid = 10877)
get.WebPresence <- function(uuid){
require(dplyr)
require(shiny)
require(httr)
require(jsonlite)
cat('--------------------------------------------------------------------------------\n')
cat('get.WebPresence ---> ',paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),'\n')
cat('--------------------------------------------------------------------------------\n')
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',uuid , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tbl.links <- data_frame(links=tContent$results$links,combinations=tContent$results$keywordsCombination)
urls <- lapply(tbl.links$links, scrape.urls)
urls <- unlist(urls)
cat('----------------------- ## make it a dplyr table------------------------\n')
## make it a dplyr table
tbl.urls <- data_frame(urls) %>% rowwise %>% mutate(urls = paste0(tags$a(urls, href=urls, target="_blank")))
## add in uuid
ls.urls <- list(uuid = uuid,
tbl.urls = tbl.urls)
str(ls.urls)
return(ls.urls)
}
scrape.urls <- function(urljunk){
# tbl.urls <- data.frame(urls=urljunk$url)
return(urljunk$url)
}
test <- get.WebPresence(uuid = 10877)
require(dplyr)
require(shiny)
require(httr)
require(jsonlite)
cat('--------------------------------------------------------------------------------\n')
cat('get.WebPresence ---> ',paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),'\n')
cat('--------------------------------------------------------------------------------\n')
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',uuid , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tContent$results$links
tContent
uuid <- 504
cat('--------------------------------------------------------------------------------\n')
cat('get.WebPresence ---> ',paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),'\n')
cat('--------------------------------------------------------------------------------\n')
tAnalyticsPost <- POST(paste('http://analytics-prod-proxy.cluster.kountable.com:6000/research/websearch', sep = ""),
add_headers("Content-Type" = "application/json"),
body = paste0('{"source_user" : ',uuid , ',"type" : "user"}') )
tContent <- fromJSON(rawToChar(tAnalyticsPost$content))
tContent
tAnalyticsPost
source('~/Rproject/web_test/WebPresence.R')
